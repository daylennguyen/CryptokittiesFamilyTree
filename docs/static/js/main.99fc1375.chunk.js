(this["webpackJsonpcryptokitty-tree"]=this["webpackJsonpcryptokitty-tree"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(44),r=n(45),l=n(60),i=n(59),c=n(152),o=n(171),s=n(172),u=n(176),m=n(173),p=n(154),h=n(161),d=n(158),y=n(178),E=n(151),f=n(177),k=n(0),v=n.n(k),g=function(e){return v.a.createElement(y.a,Object.assign({activeStep:e.activeStep,alternativeLabel:!0,style:{marginTop:"10px"}},e),v.a.createElement(E.a,null,v.a.createElement(f.a,null,"Submit KittyId")),v.a.createElement(E.a,null,v.a.createElement(f.a,null,"Scan Ancestor Kitties")),v.a.createElement(E.a,null,v.a.createElement(f.a,null,"Create Graph Elements")),v.a.createElement(E.a,null,v.a.createElement(f.a,null,"View Graph")))},b=n(84),x=n(10),S=n(73),D=n.n(S),w=n(74),K=n.n(w),C=n(153),j=function(e){var t=!0===e.isDark?k.createElement(D.a,null):k.createElement(K.a,null);return k.createElement(C.a,{color:!1===e.isDark?"primary":"secondary","aria-label":"Dark Mode Toggle",style:{position:"fixed",right:"25px",bottom:"75px"},onClick:e.onClick},t)},O=n(179),L=n(180),T=n(155),N=n(57),I=n.n(N),U=function(){return v.a.createElement(c.a,{color:"textSecondary",variant:"body2"},"CK-Tree is an open-source cryptokitty ancestor visualization tool.",v.a.createElement("br",null),"Enter a kitty id or full kitty id to scan a kittie's ancestors and display an awesome network-graph/family tree!")},G=function(e){return v.a.createElement(O.a,{style:{marginBottom:"10px",marginTop:"20px"}},v.a.createElement(L.a,{expandIcon:v.a.createElement(I.a,null)},v.a.createElement(c.a,{variant:"subtitle2"},v.a.createElement("strong",null,"Description"))),v.a.createElement(T.a,{style:{justifyContent:"center"}},v.a.createElement(U,null)))},B=n(174);var _=function(e){return k.createElement("form",{onSubmit:function(t){t.persist(),t.preventDefault();var n=document.querySelector("#kitty-id-field").value;e.onKittySubmit(n)},style:{display:"flex",flexFlow:"row",alignItems:"center"}},k.createElement(B.a,{required:!0,fullWidth:!0,name:"kitty-id-field",id:"kitty-id-field",variant:"outlined",autoFocus:!0,label:"Kitty id or Full Kitty Url"}),k.createElement("label",{htmlFor:"submit-kitty-id-button"},k.createElement(d.a,{style:{marginLeft:"25px"},color:"primary",variant:"contained",type:"submit"},"Submit")))},P=n(159),R=function(e){return k.createElement(u.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},k.createElement(P.a,{style:{marginBottom:10}}),k.createElement(c.a,{variant:"h6"},e.count," ",1===e.activeStep?"Kitties Scanned":"Kitties Converted to Graph Elements"))},z=n(42);function F(){var e=k.useState("\ud83d\udc31"),t=Object(z.a)(e,2),n=t[0],a=t[1],r=["\ud83d\ude3c","\ud83d\ude39","\ud83d\ude40","\ud83d\ude3e","\ud83d\ude3f","\ud83d\ude3b","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude3d"];return k.createElement("header",{style:{marginTop:"50px",marginBottom:"50px"}},k.createElement("a",{href:"/",style:{textDecoration:"none"}},k.createElement(c.a,{variant:"h2",color:"textPrimary",style:{display:"flex",justifyContent:"center"}},"CK-Tree",k.createElement("span",{style:{minWidth:"83px"},role:"img","aria-label":"kitty",onMouseOver:function(){var e=Math.floor(Math.random()*r.length);a(r[e])},onMouseLeave:function(){a("\ud83d\udc31")}},n),k.createElement("span",{role:"img","aria-label":"tree"},"\ud83c\udf32"))))}var M=n(14),H=n.n(M),A=n(75),q=n(24),J="https://api.ckbox.co/kitties?id=";function W(){return(W=Object(q.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://cors-anywhere.herokuapp.com/".concat("https://api.ckbox.co/cattributes"),{method:"GET",headers:{origin:document.location.href}}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(q.a)(H.a.mark((function e(t,n,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/".concat(J).concat(t),{method:"GET",headers:{origin:document.location.href}}).then((function(e){return e.json()})).then((function(e){var t=Y(n,e);return a(t),t})).catch((function(e){console.log(e)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(e,t){for(var n=[],a=1;a<=12;a++){var r,l=[],i=Object(A.a)(t[0]["g".concat(a)]);try{for(i.s();!(r=i.n()).done;){var c=r.value;l.push(null===e[a-1].api_desc[c]?"".concat(e[a-1].group_tag).concat(c.toString().padStart(2,"0")):e[a-1].api_desc[c])}}catch(o){i.e(o)}finally{i.f()}n.push(l)}return console.log(n),n},Q=n(41),X=n(160),Z=n(182),$=n(77),ee=n.n($),te=n(78),ne=n.n(te),ae=n(79),re=n.n(ae),le=n(80),ie=n.n(le),ce=n(81),oe=n.n(ce),se=n(82),ue=n.n(se),me=n(181);var pe=function(e){var t=k.useState("UD"),n=Object(z.a)(t,2),a=n[0],r=n[1],l=k.useState(!0),i=Object(z.a)(l,2),c=i[0],o=i[1];return k.createElement("span",{style:{display:"flex",justifyContent:"space-around"}},k.createElement(Z.a,{value:a,onChange:function(t,n){null!==n&&(r(n),e.HandleLayoutChange(n))},exclusive:!0},k.createElement(X.a,{value:"UD",key:1},k.createElement(me.a,{title:"UpDown Layout","aria-label":"UpDown Graph Layout"},k.createElement(ee.a,null))),k.createElement(X.a,{value:"RL",key:2},k.createElement(me.a,{title:"RightLeft Layout","aria-label":"RightLeft Graph Layout"},k.createElement(ne.a,null))),k.createElement(X.a,{value:"LR",key:3},k.createElement(me.a,{title:"LeftRight Layout","aria-label":"LeftRight Graph Layout"},k.createElement(re.a,null))),k.createElement(X.a,{value:"DU",key:4},k.createElement(me.a,{title:"DownUp Layout","aria-label":"DownUp Graph Layout"},k.createElement(ie.a,null))),k.createElement(X.a,{value:"UNLOCK",key:5},k.createElement(me.a,{title:"Unlocked Layout","aria-label":"Unlocked Graph Layout"},k.createElement(oe.a,null)))),k.createElement(X.a,{value:"PHYSICS",key:6,selected:c,onChange:function(){o(!c),e.physics(!c)}},k.createElement(me.a,{title:"Physics Toggle","aria-label":"Physics Toggle"},k.createElement(ue.a,null))))};function he(){return(he=Object(q.a)(H.a.mark((function e(t,n){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.cryptokitties.co/kitties/"+t);case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,n(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).networkComponent=k.createRef(),r.state={layoutDirection:"UD",physics:!0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.networkComponent.current.network.on("click",(function(t){0!==t.nodes.length&&(function(e,t){he.apply(this,arguments)}(t.nodes[0],e.props.setSelectedKitty),function(e,t,n){V.apply(this,arguments)}(t.nodes[0],e.props.cattributes,e.props.setTraitData))}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.isDark!==e.isDark||this.state.layoutDirection!==t.layoutDirection||this.state.physics!==t.physics||this.props.edges.length!==e.edges.length}},{key:"render",value:function(){var e=this;return console.log(this.state),k.createElement("span",null,k.createElement(Q.Network,{style:{background:!1===this.props.isDark?"white":"#424242",border:!1===this.props.isDark?"1px solid rgba(0, 0, 0, 0.12)":"1px solid rgba(255, 255, 255, 0.12)",borderRadius:"10px",marginTop:25,marginBottom:25},options:{physics:this.state.physics,interaction:{hover:!0,selectConnectedEdges:!1,tooltipDelay:0},autoResize:!0,layout:{hierarchical:{enabled:"UNLOCK"!==this.state.layoutDirection,direction:"UNLOCK"===this.state.layoutDirection?"UD":this.state.layoutDirection,sortMethod:"directed"}},nodes:{shadow:!0,font:{size:10,color:!1===this.props.isDark?"black":"white"}},edges:{color:{hover:"#ff0000"},smooth:{type:"cubicBezier"},arrows:"from"}},ref:this.networkComponent},this.props.nodes===[]?null:this.props.nodes.map((function(e){return e})),this.props.edges===[]?null:this.props.edges.map((function(e){return e}))),k.createElement(pe,{layout:this.state.layoutDirection,HandleLayoutChange:function(t){console.log(t),e.setState({layoutDirection:t})},physics:function(t){e.setState({physics:t})}}))}}]),n}(k.Component),ye=(n(114),"https://api.cryptokitties.co/kitties/"),Ee=function(e){return"Invalid Kitty - Kitty Not Found!\n\nNo Kitty Found at:\nhttps://api.cryptokitties.co/kitties/".concat(e,"\n\nPlease enter a valid kitty id")};function fe(e){return v.a.createElement(Q.Edge,{key:e.id,id:e.id,from:e.from,to:e.to})}function ke(e){return v.a.createElement(Q.Node,{id:"".concat(e.id),key:"".concat(e.key),title:"(Gen. ".concat(e.gen,") (").concat(null!==e.name?e.name:"#"+e.id,")"),level:e.gen,shape:"image",size:100,image:e.img})}var ve=function(e){return{id:e.id,key:e.id,img:e.image_url_png,gen:e.generation,name:e.name}},ge=function(e,t){return{matron:{from:e.id,to:e.matron.id,id:t+1},sire:{from:e.id,to:e.sire.id,id:t}}};function be(){return(be=Object(q.a)(H.a.mark((function e(t,n,a,r){var l,i,c,o,s,u,m,p,h;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=[],i=[],c=[],o=[],e.next=4,fetch(ye+t);case 4:return u=e.sent,e.next=7,u.text();case 7:m=e.sent;try{m=JSON.parse(m)}catch(d){"Not Found"!==m&&"Bad Request"!==m||(alert(Ee),m=null),r(0)}null!==m&&(c.push(m),p=420,h=setInterval(Object(q.a)(H.a.mark((function e(){var t,u,d,y,E,f,k,v,g;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length>0)){e.next=37;break}if(s=c.shift(),o.includes(s.id)?console.warn("duplicate id detected: "+s.id):(l.push(ve(s)),o.push(s.id)),!(s.generation>0)){e.next=34;break}return t=ge(s,p+=2),o.push(t.matron.id,t.sire.id),i.push(t.matron),i.push(t.sire),e.prev=8,e.next=11,fetch(ye+t.matron.to);case 11:return u=e.sent,e.next=14,u.json();case 14:d=e.sent,c.push(d),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.error("Error while fetching matron",e.t0);case 21:return e.prev=21,e.next=24,fetch(ye+t.sire.to);case 24:return y=e.sent,e.next=27,y.json();case 27:E=e.sent,c.push(E),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),console.error("Error while fetching sire",e.t1);case 34:a(l.length),e.next=44;break;case 37:for(v in clearInterval(h),r(2),f=[],k=[],l)f.push(ke(l[v])),a(v);for(g in i)k.push(fe(i[g])),a(g);try{n(f,k,m)}catch(b){console.err(b)}r(4);case 44:case"end":return e.stop()}}),e,null,[[8,18],[21,31]])}))),300));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=n(66),Se=n(162),De=n(164),we=n(163),Ke=n(83),Ce=n.n(Ke),je={display:"flex",flexDirection:"row"},Oe=function(e){return k.createElement(h.a,{style:{position:"relative"},variant:"outlined"},k.createElement(Se.a,{style:je},e.SelectedKitty.id?k.createElement(De.a,{component:"img",alt:"Clicked CryptoKitty",height:"200px",width:"200px",image:"".concat(e.SelectedKitty.image_url_png),title:"Clicked CryptoKitty"}):k.createElement(we.a,{variant:"rect",width:200,height:200}),k.createElement("span",{id:"kittyCardText"},k.createElement(Le,{children:k.createElement("a",{href:"https://www.cryptokitties.co/kitty/".concat(e.SelectedKitty.id)},"".concat(null===e.SelectedKitty.name?"":e.SelectedKitty.name+"\n"," (#").concat(e.SelectedKitty.id,")"))}),k.createElement(Te,{text:k.createElement("a",{href:"https://cryptokitties.co/profile/"+e.SelectedKitty.owner.address},e.SelectedKitty.owner.nickname),icon:k.createElement(Ce.a,null)}),k.createElement(Te,{text:"Gen ".concat(e.SelectedKitty.generation)}))))};function Le(e){var t=e.children,n=Object(xe.a)(e,["children"]);return k.createElement(c.a,Object.assign({variant:"h6",color:"textPrimary"},n),t)}function Te(e){var t=e.icon,n=void 0===t?k.createElement("span",null):t,a=e.text,r=Object(xe.a)(e,["icon","text"]);return k.createElement("span",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},n,k.createElement(c.a,Object.assign({variant:"subtitle1",color:"textSecondary",style:{}},r),a))}var Ne=n(165),Ie=n(166),Ue=n(167),Ge=n(168),Be=n(169),_e=n(170),Pe=function(e){return k.createElement(k.Fragment,null,k.createElement(Ne.a,{key:123},"-"),k.createElement(Ne.a,{key:124},"-"),k.createElement(Ne.a,{key:125},"-"),k.createElement(Ne.a,{key:126},"-"))},Re=function(e){return k.createElement(O.a,{style:{marginBottom:"10px",marginTop:"20px"}},k.createElement(L.a,{expandIcon:k.createElement(I.a,null)},k.createElement(c.a,{variant:"subtitle2"},k.createElement("strong",null,"CKBox Gene Table"))),k.createElement(T.a,{style:{justifyContent:"center",display:"flex",flexDirection:"column"}},e.children))},ze=function(e){var t=69420,n=function(e,n){return e.length>0?e[n].map((function(e){return k.createElement(Ne.a,{key:t++},e)})):k.createElement(Pe,null)};return console.log(e.traits),k.createElement(Re,null,e.traits.length>0?k.createElement(Ie.a,{component:h.a},k.createElement(Ue.a,{size:"small"},k.createElement(Ge.a,null,k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Trait Type")),k.createElement(Ne.a,null,k.createElement("b",null,"Primary")),k.createElement(Ne.a,null,k.createElement("b",null,"Hidden 1")),k.createElement(Ne.a,null,k.createElement("b",null,"Hidden 2")),k.createElement(Ne.a,null,k.createElement("b",null,"Hidden 3")))),k.createElement(_e.a,null,k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Fur")),n(e.traits,0)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Pattern")),n(e.traits,1)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Eye Color")),n(e.traits,2)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Eye Shape")),n(e.traits,3)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Base Colour")),n(e.traits,4)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Highlight Colour")),n(e.traits,5)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Accent Colour")),n(e.traits,6)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Wild Element")),n(e.traits,7)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Mouth")),n(e.traits,8)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Environment")),n(e.traits,9)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Secret")),n(e.traits,10)),k.createElement(Be.a,null,k.createElement(Ne.a,null,k.createElement("b",null,"Purrstige")),n(e.traits,11))))):k.createElement(c.a,{variant:"h6"},"Click a kitty to display gene data"))},Fe=Object(b.a)({palette:{type:"dark"}}),Me=Object(b.a)({palette:{type:"light"}}),He=k.createElement("footer",null,k.createElement("a",{id:"eth-donate",href:"https://flannyan.argent.xyz/",style:{margin:"10px"}},k.createElement(c.a,{variant:"body1",color:"textPrimary"},"eth donations: 0xb41919C5700779c45116377657Ce56B4E3508eb3"))),Ae=function(e){Object(l.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={kittyNodes:[],kittyEdges:[],activeStep:0,scannedKitties:0,theme:{isDark:!1},checked:!0,selectedKitty:{},trait_data:[],cattributes:{}},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;!function(e){W.apply(this,arguments)}((function(t){e.setState({cattributes:t})}))}},{key:"render",value:function(){var e=this;return console.log(this.state),k.createElement(o.a,{theme:!1===this.state.theme.isDark?Me:Fe},k.createElement(s.a,null),k.createElement(j,{isDark:this.state.theme.isDark,onClick:this.setStateThemeIsDark()}),k.createElement(u.a,{className:"App"},k.createElement(F,null),k.createElement(m.a,null,k.createElement(G,null),k.createElement(p.a,{in:this.state.checked},k.createElement(h.a,{variant:"outlined",style:{padding:"80px"}},0===this.state.activeStep?k.createElement(_,{onKittySubmit:this.handleKittySubmit()}):"",1===this.state.activeStep||2===this.state.activeStep?k.createElement(R,{activeStep:this.state.activeStep,count:this.state.scannedKitties}):"",k.createElement("main",null,4===this.state.activeStep?k.createElement("span",null,k.createElement(Oe,{SelectedKitty:this.state.selectedKitty}),k.createElement(de,{setCattributes:function(t){e.setState({cattributes:t})},cattributes:this.state.cattributes,className:"network",isDark:this.state.theme.isDark,edges:this.state.kittyEdges,nodes:this.state.kittyNodes,setSelectedKitty:function(t){t!==e.state.selectedKitty&&e.setState({selectedKitty:t})},setTraitData:function(t){e.setState({trait_data:t})}}),k.createElement(ze,{traits:this.state.trait_data}),k.createElement(d.a,{variant:"contained",color:"secondary",onClick:this.reInitializeState()},"Scan Another Kitty!")):""))),k.createElement(g,{activeStep:this.state.activeStep})),He))}},{key:"setStateThemeIsDark",value:function(){var e=this;return function(){e.setState({theme:{isDark:!0!==e.state.theme.isDark}})}}},{key:"reInitializeState",value:function(){var e=this;return function(){e.setState({checked:!1}),e.setState({kittyNodes:[],kittyEdges:[],activeStep:0,scannedKitties:0,theme:{isDark:!1},checked:!0,selectedKitty:{},trait_data:[]}),setTimeout((function(){return e.setState({checked:!0})}),500)}}},{key:"handleKittySubmit",value:function(){var e=this;return function(t){var n;e.setState({checked:!1}),function(e){var t=!1;return e.includes("/kitty/")&&(t=!0),t}(t)&&(t=(n=t).slice(n.lastIndexOf("/kitty/")+"/kitty/".length));var a=Number.parseInt(t,10);!isNaN(a)&&"0"!==t&&a>0&&(t=a,e.setState({activeStep:1}),setTimeout((function(){return e.setState({checked:!0})}),500),function(e,t,n,a){be.apply(this,arguments)}(t,(function(t,n,a){e.setState({kittyNodes:t,kittyEdges:n,selectedKitty:a})}),(function(t){e.setState({scannedKitties:t})}),(function(t){e.setState({activeStep:t,checked:!1}),e.setState({checked:!0})}))),e.setState({checked:!0})}}}]),n}(k.Component),qe=document.getElementById("root");Object(x.render)(k.createElement(Ae,null),qe)},94:function(e,t,n){e.exports=n(115)}},[[94,1,2]]]);
//# sourceMappingURL=main.99fc1375.chunk.js.map