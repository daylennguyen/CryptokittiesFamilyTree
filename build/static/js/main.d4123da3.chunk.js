(this["webpackJsonpcryptokitty-tree"]=this["webpackJsonpcryptokitty-tree"]||[]).push([[0],{72:function(e,t,n){e.exports=n(92)},90:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(34),r=n(35),i=n(48),o=n(47),c=n(132),l=n(133),s=n(139),u=n(134),m=n(135),p=n(143),d=n(136),h=n(140),f=n(128),y=n(64),k=n(0),E=n.n(k),v=n(9),b=n(62),g=n.n(b),x=n(61),S=n.n(x),w=n(127),D=function(e){var t=!0===e.isDark?k.createElement(S.a,null):k.createElement(g.a,null);return k.createElement(w.a,{color:!0===e.isDark?"primary":"secondary","aria-label":"Dark Mode Toggle",style:{position:"fixed",right:"25px",bottom:"75px"},onClick:e.onClick},t)},j=n(141),O=n(142),C=n(129),K=n(63),N=n.n(K),I=function(){return E.a.createElement(f.a,{color:"textSecondary",variant:"body2"},"CK-Tree is an open-source cryptokitty ancestor visualization tool.",E.a.createElement("br",null),"Enter a kitty id or full kitty id to scan a kittie's ancestors and display an awesome network-graph/family tree!")},M=function(e){return E.a.createElement(j.a,{style:{marginBottom:"10px",marginTop:"20px"}},E.a.createElement(O.a,{expandIcon:E.a.createElement(N.a,null)},E.a.createElement(f.a,{variant:"subtitle2"},E.a.createElement("strong",null,"Description"))),E.a.createElement(C.a,{style:{justifyContent:"center"}}," ",E.a.createElement(I,null)))},F=n(137),z=n(130);var B=function(e){return k.createElement("form",{onSubmit:function(t){t.persist(),t.preventDefault();var n=document.querySelector("#kitty-id-field").value;e.onKittySubmit(n)},style:{display:"flex",flexFlow:"row",alignItems:"center"}},k.createElement(F.a,{required:!0,fullWidth:!0,name:"kitty-id-field",id:"kitty-id-field",variant:"outlined",label:"Kitty id or Full Kitty Url"}),k.createElement("label",{htmlFor:"submit-kitty-id-button"},k.createElement(z.a,{style:{marginLeft:"25px"},color:"primary",variant:"contained",type:"submit"},"Submit")))},T=n(131),G=function(e){return k.createElement(s.a,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},k.createElement(T.a,{style:{marginBottom:10}}),k.createElement(f.a,{variant:"h6"},e.count," ",1===e.activeStep?"Kitties Scanned":"Kitties Converted to Graph Elements"))},q=n(65);function A(){var e=k.useState("\ud83d\udc31"),t=Object(q.a)(e,2),n=t[0],a=t[1],r=["\ud83d\ude3c","\ud83d\ude39","\ud83d\ude40","\ud83d\ude3e","\ud83d\ude3f","\ud83d\ude3b","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude3d"];return k.createElement("header",null,k.createElement("a",{href:"/",style:{textDecoration:"none"}},k.createElement(f.a,{variant:"h1",color:"textPrimary"},"CK-Tree",k.createElement("span",{role:"img","aria-label":"kitty",onMouseOver:function(){var e=Math.floor(9*Math.random())+1;a(r[e])},onMouseLeave:function(){a("\ud83d\udc31")}},n),k.createElement("span",{role:"img","aria-label":"tree"},"\ud83c\udf32"))))}var J=n(30),L=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).networkComponent=k.createRef(),e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){console.log(this.networkComponent),this.networkComponent.current.network.on("click",(function(e){console.log("clicked",e)}))}},{key:"render",value:function(){return k.createElement(J.Network,{style:{background:!1===this.props.isDark?"white":"#424242",border:"black solid 1px"},options:{autoResize:!0,layout:{hierarchical:{direction:"DU",sortMethod:"directed"}},nodes:{font:{size:32,color:!1===this.props.isDark?"black":"white"}},edges:{arrows:"from"}},ref:this.networkComponent},this.props.nodes===[]?null:this.props.nodes.map((function(e){return e})),this.props.edges===[]?null:this.props.edges.map((function(e){return e})))}}]),n}(k.Component),P=(n(90),n(31)),R=n.n(P),U=n(55),_="https://api.cryptokitties.co/kitties/",V=function(e){return"Invalid Kitty - Kitty Not Found!\n\nNo Kitty Found at:\nhttps://api.cryptokitties.co/kitties/".concat(e,"\n\nPlease enter a valid kitty id")};function W(e){return E.a.createElement(J.Edge,{key:e.id,id:e.id,from:e.from,to:e.to})}function H(e){return E.a.createElement(J.Node,{id:"".concat(e.id),key:"".concat(e.key),label:"(Gen".concat(e.gen,") (").concat(null!==e.name?e.name:"#"+e.id,")"),shape:"image",size:50,image:e.img})}var Q=function(e){return{id:e.id,key:e.id,img:e.image_url_cdn,gen:e.generation,name:e.name}},X=function(e,t){return{matron:{from:e.id,to:e.matron.id,id:t+1},sire:{from:e.id,to:e.sire.id,id:t+2}}};function Y(){return(Y=Object(U.a)(R.a.mark((function e(t,n,a,r){var i,o,c,l,s,u,m,p;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],o=[],c=[],e.next=3,fetch(_+t);case 3:return s=e.sent,e.next=6,s.text();case 6:u=e.sent;try{u=JSON.parse(u)}catch(d){"Not Found"!==u&&"Bad Request"!==u||(alert(V),u=null),r(0)}null!==u&&(c.push(u),m=420,p=setInterval(Object(U.a)(R.a.mark((function e(){var t,s,u,d,h,f,y,k,E;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c.length>0)){e.next=37;break}if(l=c.shift(),i.push(Q(l)),!(l.generation>0)){e.next=34;break}return t=X(l,m),m+=2,o.push(t.matron),o.push(t.sire),e.prev=8,e.next=11,fetch(_+t.matron.to);case 11:return s=e.sent,e.next=14,s.json();case 14:u=e.sent,c.push(u),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),console.error("Error while fetching matron",e.t0);case 21:return e.prev=21,e.next=24,fetch(_+t.sire.to);case 24:return d=e.sent,e.next=27,d.json();case 27:h=e.sent,c.push(h),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),console.error("Error while fetching sire",e.t1);case 34:a(i.length),e.next=44;break;case 37:for(k in clearInterval(p),r(2),f=[],y=[],i)f.push(H(i[k])),a(k);for(E in o)y.push(W(o[E])),a(E);n(f,y),r(4);case 44:case"end":return e.stop()}}),e,null,[[8,18],[21,31]])}))),700));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=Object(y.a)({palette:{type:"dark"}}),$=Object(y.a)({palette:{type:"light"}}),ee=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={kittyNodes:[],kittyEdges:[],activeStep:0,scannedKitties:0,theme:{isDark:!1}},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return k.createElement(c.a,{theme:!1===this.state.theme.isDark?$:Z},k.createElement(l.a,null),k.createElement(D,{isDark:this.state.theme.isDark,onClick:function(){e.setState({theme:{isDark:!0!==e.state.theme.isDark}})}}),k.createElement(s.a,{className:"App"},k.createElement(A,null),k.createElement(u.a,null,k.createElement(M,null),k.createElement(m.a,{variant:"outlined",style:{padding:"100px"}},0===this.state.activeStep?k.createElement(B,{onKittySubmit:function(t){var n;(function(e){var t=!1;return e.includes("/kitty/")&&(t=!0),t})(t)&&(t=(n=t).slice(n.lastIndexOf("/kitty/")+"/kitty/".length)),isNaN(Number.parseInt(t,10))||"0"===t||(t=Number.parseInt(t,10),e.setState({activeStep:1}),function(e,t,n,a){Y.apply(this,arguments)}(t,(function(t,n){e.setState({kittyNodes:t,kittyEdges:n})}),(function(t){e.setState({scannedKitties:t})}),(function(t){e.setState({activeStep:t})})))}}):"",1===this.state.activeStep||2===this.state.activeStep?k.createElement(G,{activeStep:this.state.activeStep,count:this.state.scannedKitties}):"",k.createElement("main",null,4===this.state.activeStep?k.createElement("span",null,k.createElement(L,{className:"network",isDark:this.state.theme.isDark,edges:this.state.kittyEdges,nodes:this.state.kittyNodes})):"")),k.createElement(p.a,{activeStep:this.state.activeStep,alternativeLabel:!0,style:{marginTop:"10px"}},k.createElement(d.a,null,k.createElement(h.a,null,"Submit KittyId")),k.createElement(d.a,null,k.createElement(h.a,null,"Scan Ancestor Kitties")),k.createElement(d.a,null,k.createElement(h.a,null,"Create Graph Elements")),k.createElement(d.a,null,k.createElement(h.a,null,"View Graph")))),k.createElement("footer",null,k.createElement("a",{id:"eth-donate",href:"https://flannyan.argent.xyz/"},k.createElement(f.a,{variant:"body1",color:"textPrimary"},"eth donations: 0xb41919C5700779c45116377657Ce56B4E3508eb3")))))}}]),n}(k.Component),te=document.getElementById("root");Object(v.render)(k.createElement(ee,null),te)}},[[72,1,2]]]);
//# sourceMappingURL=main.d4123da3.chunk.js.map